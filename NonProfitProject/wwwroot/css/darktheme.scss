@import "bootstrap/scss/functions";
@import "bootstrap/scss/variables";
@import "bootstrap/scss/mixins";

@import "./variables";
@import "./alert";
@import "./badge";
@import "./borders";
@import "./breadcrumb";
@import "./buttons";
@import "./card";
@import "./close";
@import "./custom-forms";
@import "./dropdown";
@import "./forms";
@import "./input-groups";
@import "./jumbotron";
@import "./list-group";
@import "./modal";
@import "./nav";
@import "./pagination";
@import "./popover";
@import "./progress";
@import "./reboot";
@import "./tables";
@import "./text";

@mixin darkmode {
	color: $dark-body-color;
	background-color: $dark-body-bg;

	.bg-darkmode-dark {
		background-color: $dark !important
	}

	.bg-darkmode-light {
		background-color: $light !important;
	}

	.bg-darkmode-black {
		background-color: $black !important;
	}

	// --------------- Typography ---------------

	pre {
		color: $dark-body-color;
	}

	hr {
		border-top-color: $dark-border-color;
	}

	// --------------- Images ---------------

	img.icon,
	svg.icon {
		filter: invert(1);
	}

	@include dark-alert;
	@include dark-badge;
	@include dark-borders;
	@include dark-breadcrumb;
	@include dark-buttons;
	@include dark-card;
	@include dark-close;
	@include dark-custom-forms;
	@include dark-dropdown;
	@include dark-forms;
	@include dark-input-groups;
	@include dark-jumbotron;
	@include dark-list-group;
	@include dark-modal;
	@include dark-nav;
	@include dark-pagination;
	@include dark-popover;
	@include dark-progress;
	@include dark-reboot;
	@include dark-table;
	@include dark-text;
}

@mixin dark-text {
	.text-body {
		color: $dark-body-color !important;
	}

	.text-dark-body {
		color: $body-color !important;
	}

	@if $emphasized-link-hover-darken-percentage != 0 {
		@each $color, $value in $theme-colors {
			a.text-#{$color} {
				@include hover-focus() {
					color: lighten($value, $emphasized-link-hover-darken-percentage) !important;
				}
			}
		}
	}
}

@mixin dark-card {
	.card {
		background-color: $dark-card-bg;
		border-color: $dark-card-border-color;
	}

	.card-body {
		color: $dark-card-color;
	}

	.card-header {
		color: $dark-card-cap-color;
		background-color: $dark-card-cap-bg;
		border-bottom-color: $dark-card-border-color;
	}

	.card-footer {
		color: $dark-card-cap-color;
		background-color: $dark-card-cap-bg;
		border-top-color: $dark-card-border-color;
	}
}

@mixin dark-dropdown {
	.dropdown-menu {
		color: $dark-dropdown-color;
		background-color: $dark-dropdown-bg;
		border-color: $dark-dropdown-border-color;
	}

	.dropdown-divider {
		border-top-color: $dark-dropdown-divider-bg;
	}

	.dropdown-item {
		color: $dark-dropdown-link-color;

		@include hover-focus() {
			color: $dark-dropdown-link-hover-color;
			@include gradient-bg($dark-dropdown-link-hover-bg);
		}

		&.active, &:active {
			color: $dark-dropdown-link-active-color;
			@include gradient-bg($dark-dropdown-link-active-bg);
		}

		&.disabled, &:disabled {
			color: $dark-dropdown-link-disabled-color;
		}
	}

	.dropdown-header {
		color: $dark-dropdown-header-color;
	}

	.dropdown-item-text {
		color: $dark-dropdown-link-color;
	}
}


@media (prefers-color-scheme: dark) {
	[data-theme=auto] {
		@include darkmode;
	}
}

[data-theme=dark] {
	@include darkmode;
}
